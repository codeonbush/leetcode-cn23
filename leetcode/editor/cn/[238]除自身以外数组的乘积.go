package leetcode

import (
	"testing"
)

/**
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¿”å› æ•°ç»„ answer ï¼Œå…¶ä¸­ answer[i] ç­‰äº nums ä¸­é™¤ nums[i] ä¹‹å¤–å…¶ä½™å„å…ƒç´ çš„ä¹˜ç§¯ ã€‚

 é¢˜ç›®æ•°æ® ä¿è¯ æ•°ç»„ numsä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€çš„ä¹˜ç§¯éƒ½åœ¨ 32 ä½ æ•´æ•°èŒƒå›´å†…ã€‚

 è¯· ä¸è¦ä½¿ç”¨é™¤æ³•ï¼Œä¸”åœ¨ O(n) æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ­¤é¢˜ã€‚



 ç¤ºä¾‹ 1:


è¾“å…¥: nums = [1,2,3,4]
è¾“å‡º: [24,12,8,6]


 ç¤ºä¾‹ 2:


è¾“å…¥: nums = [-1,1,0,-3,3]
è¾“å‡º: [0,0,9,0,0]




 æç¤ºï¼š


 2 <= nums.length <= 10âµ
 -30 <= nums[i] <= 30
 ä¿è¯ æ•°ç»„ numsä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€çš„ä¹˜ç§¯éƒ½åœ¨ 32 ä½ æ•´æ•°èŒƒå›´å†…




 è¿›é˜¶ï¼šä½ å¯ä»¥åœ¨ O(1) çš„é¢å¤–ç©ºé—´å¤æ‚åº¦å†…å®Œæˆè¿™ä¸ªé¢˜ç›®å—ï¼Ÿï¼ˆ å‡ºäºå¯¹ç©ºé—´å¤æ‚åº¦åˆ†æçš„ç›®çš„ï¼Œè¾“å‡ºæ•°ç»„ ä¸è¢«è§†ä¸º é¢å¤–ç©ºé—´ã€‚ï¼‰

 Related Topics æ•°ç»„ å‰ç¼€å’Œ ğŸ‘ 1811 ğŸ‘ 0

*/

// leetcode submit region begin(Prohibit modification and deletion)
//ä¼˜åŒ–åçš„ä»£ç å¯ä»¥åœ¨ç©ºé—´å¤æ‚åº¦ä¸Šè¿›è¡Œæ›´é«˜æ•ˆçš„å¤„ç†ï¼Œ
//ä¸å¿…ä½¿ç”¨é¢å¤–çš„å‰ç¼€ç§¯å’Œåç¼€ç§¯æ•°ç»„ï¼Œåªä½¿ç”¨ä¸€ä¸ªç»“æœæ•°ç»„æ¥å­˜å‚¨ä¸­é—´è®¡ç®—çµæœã€‚
// è¿™ç§æ–¹æ³•é€šè¿‡ä¸¤ééå†è§£å†³é—®é¢˜ï¼Œç¬¬ä¸€ééå†ç”¨äºè®¡ç®—æ¯ä¸ªå…ƒç´ çš„å‰ç¼€ç§¯ï¼Œ
// ç¬¬äºŒééå†ç”¨äºè®¡ç®—æ¯ä¸ªå…ƒç´ çš„åç¼€ç§¯å¹¶åŒæ—¶å°†å…¶ä¸ä¹‹å‰è®¡ç®—çš„å‰ç¼€ç§¯ç›¸ä¹˜ï¼Œ
// ä»è€Œå¾—åˆ°æœ€ç»ˆç»“æœã€‚è¿™å‡å°‘äº†é¢å¤–çš„ç©ºé—´ä½¿ç”¨ï¼Œä½¿ç©ºé—´å¤æ‚åº¦é™ä¸º O(1)ï¼ˆä¸åŒ…æ‹¬è¿”å›çš„ç»“æœæ•°ç»„ï¼‰ã€‚
func productExceptSelf(nums []int) []int {
	n := len(nums)
	res := make([]int, n)

	// ä»å·¦åˆ°å³è®¡ç®—å‰ç¼€ç§¯
	res[0] = 1
	for i := 1; i < n; i++ {
		res[i] = res[i-1] * nums[i-1]
	}

	// ä»å³åˆ°å·¦è®¡ç®—åç¼€ç§¯å¹¶ä¸”å’Œå‰ç¼€ç§¯ç›¸ä¹˜
	suffix := 1
	for i := n - 1; i >= 0; i-- {
		res[i] *= suffix
		suffix *= nums[i]
	}

	return res
}

//func productExceptSelf(nums []int) []int {
//	n := len(nums)
//	// ä»å·¦åˆ°å³çš„å‰ç¼€ç§¯ï¼Œprefix[i] æ˜¯ nums[0..i] çš„å…ƒç´ ç§¯
//	prefix := make([]int, n)
//	prefix[0] = nums[0]
//	for i := 1; i < n; i++ {
//		prefix[i] = prefix[i-1] * nums[i]
//	}
//	// ä»å³åˆ°å·¦çš„å‰ç¼€ç§¯ï¼Œsuffix[i] æ˜¯ nums[i..n-1] çš„å…ƒç´ ç§¯
//	suffix := make([]int, n)
//	suffix[n-1] = nums[n-1]
//	for i := n - 2; i >= 0; i-- {
//		suffix[i] = suffix[i+1] * nums[i]
//	}
//	// ç»“æœæ•°ç»„
//	res := make([]int, n)
//	res[0] = suffix[1]
//	res[n-1] = prefix[n-2]
//	for i := 1; i < n-1; i++ {
//		// é™¤äº† nums[i] è‡ªå·±çš„å…ƒç´ ç§¯å°±æ˜¯ nums[i] å·¦ä¾§å’Œå³ä¾§æ‰€æœ‰å…ƒç´ ä¹‹ç§¯
//		res[i] = prefix[i-1] * suffix[i+1]
//	}
//	return res
//}

//leetcode submit region end(Prohibit modification and deletion)

func TestProductOfArrayExceptSelf(t *testing.T) {

}
